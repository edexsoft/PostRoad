<?xml version="1.0" encoding="ISO-8859-1"?>
<web-app 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://java.sun.com/xml/ns/javaee"
	xsi:schemaLocation="
		http://java.sun.com/xml/ns/javaee
		http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd
		http://www.springframework.org/schema/beans 
	    http://www.springframework.org/schema/beans/spring-beans.xsd"
	version="3.0" 
	metadata-complete="true">
    
    <!-- 站点名称 -->
  	<display-name>postroad.portal</display-name>
  	<!-- 站点描述 -->
  	<description>web app protal of postroad</description>
  	
  	<!-- 
  		context-param 站点的环境参数
  			param-name  指定参数名
    		param-value 指定参数值 
  	-->
  	<!-- 区分项目名称，防止默认重名   -->
  	<context-param>
		<param-name>webAppRootKey</param-name>
		<param-value>com.edexsoft.postroad.portal</param-value>
	</context-param>
	<!-- log4j 配置参数 -->
  	<context-param>
		<param-name>log4jConfigLocation</param-name>
		<param-value>classpath:log4j/log4j.properties</param-value>
	</context-param>
	<!-- log4j 日志页面的刷新间隔 -->
	<context-param>
		<param-name>log4jRefreshInterval</param-name>
		<param-value>600000</param-value>
	</context-param>
	<!-- spring配置参数 -->
    <context-param>  
        <param-name>contextConfigLocation</param-name>  
    	<param-value>classpath:spring/spring-context.xml</param-value>
    	<!--  
        <param-value>classpath:spring/business-config.xml, classpath:spring/tools-config.xml</param-value>
        -->
    </context-param>
    
    
	<!-- log4j 监听器 -->
	<!-- <listener>
		<listener-class>org.springframework.web.util.Log4jConfigListener</listener-class>
	</listener> -->
  	
  	<!-- 
  		listener 监听器接口  (建立,修改和删除会话或servlet环境时得到通知)
  			listener-class 监听器类名
  	-->
    <!-- Spring 监听器
    -->
	<listener>  
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>  
    </listener>
    <!-- 防止Spring内存溢出监听器 -->
    <!-- <listener>
        <listener-class>org.springframework.web.util.IntrospectorCleanupListener</listener-class>
    </listener> -->
  
  	<!--
  		filter 过滤器 
    		filter-name  指定过滤器名
    		filter-class 指定过滤器类名
    		init-param   参数
        		param-name  指定参数名
      			param-value 指定参数值
    -->
    <!-- 字符集 过滤器  用来支持中文字符-->  
    <filter>  
        <filter-name>CharacterEncodingFilter</filter-name>  
        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>  
        <init-param>  
            <param-name>encoding</param-name>  
            <param-value>UTF-8</param-value>  
        </init-param>  
        <init-param>  
            <param-name>forceEncoding</param-name>  
            <param-value>true</param-value>  
        </init-param>  
    </filter>  
    <!-- 
    	fileter-mapping 过滤器映射
    		filter-name	指定过滤器名
    		url-pattern	指定映射的URL 
    -->
    <filter-mapping>  
        <filter-name>CharacterEncodingFilter</filter-name>  
        <url-pattern>/*</url-pattern>  
    </filter-mapping>
  
    <!--
    	servlet 分发器
    		servlet-name  名称
    		servlet-class 类名
    		init-param    参数
        		param-name  指定参数名
      			param-value 指定参数值
	-->    
    <servlet>  
        <servlet-name>SpringMVC</servlet-name>  
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>  
        <init-param>
            <param-name>contextConfigLocation</param-name>  
            <param-value>classpath:spring/spring-context.xml</param-value>
        </init-param>  
        <load-on-startup>1</load-on-startup>  
    </servlet>  
    <servlet-mapping>  
        <servlet-name>SpringMVC</servlet-name>  
        <url-pattern>/</url-pattern>  
    </servlet-mapping>
    
    <!-- 默认页列表  (服务器在收到引用一个目录名而不是 文件名的URL时,使用哪个文件.)
    <welcome-file-list>
    	<welcome-file>index.html</welcome-file>
	    <welcome-file>index.jsp</welcome-file>
	</welcome-file-list>
	-->
  	
  	<!-- 总错误处理 -->
    <!-- <bean  id="exceptionResolver" class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
        <property name="defaultErrorView">
            <value>/error/index</value>
        </property>
        <property name="defaultStatusCode">
            <value>500</value>
        </property>
        <property name="warnLogCategory">
            <value>org.springframework.web.servlet.handler.SimpleMappingExceptionResolver</value>
        </property>
    </bean> -->
  	<!-- 
  		error-page 错误页 
	  		error-code     错误代码
	    	exception-type java异常类型
	    	location       相关资源路径
  	-->
  	<error-page>
	    <error-code>404</error-code>
	    <location>/error404.jsp</location>
	</error-page>
	<error-page>
	    <exception-type>java.lang.Exception</exception-type>
	    <location>/exception.jsp</location>
	</error-page>
	  	
  	<!-- 
  		session-config 站点的session参数
    		session-timeout 用来定义这个web站台所有session的有效期限，单位为(分钟) 
    -->
    <session-config>
    	<session-timeout>60</session-timeout>
    </session-config>
    
    <!--
    	MIME(Multipurpose Internet Mail Extensions)多用途互联网邮件扩展类型 
    	mime类型映射
    		extension 扩展名
    		mime-type mime类型
   	-->
	<mime-mapping>
		<extension>doc</extension>
		<mime-type>application/vnd.ms-word</mime-type>
	</mime-mapping>
	
	<!-- 
		tag library 的路径
			taglib-uri        逻辑路径
			taglib-location   物理路径
		jsp-property-group
			description       描述
		    display-name      名称
		    url-pattern       影响的范围，如：/CH2 或 /*.jsp；
		    el-ignored        若为true，表示不支持EL 语法；
		    scripting-invalid 若为true，表示不支持<% scripting %>语法；
		    page-encoding     设定JSP 网页的编码；
		    include-prelude   设置JSP 网页的抬头，扩展名为.jspf；
		    include-coda      设置JSP 网页的结尾，扩展名为.jspf。 
	-->
	<!-- 
	<jsp-config>
		<taglib>
		    <taglib-uri>EdTaglib</taglib-uri>
		    <taglib-location>/WEB-INF/tlds/MyTaglib.tld</taglib-location>
		</taglib> 
		<jsp-property-group>
	         <description>Special property group for JSP Configuration JSP example.</description>
	         <display-name>JSPConfiguration</display-name>
	         <url-pattern>/jsp/* </url-pattern>
	         <el-ignored>true</el-ignored>
	         <page-encoding>GB2312</page-encoding>
	         <scripting-invalid>true</scripting-invalid>
	         <include-prelude>/include/prelude.jspf</include-prelude>
	         <include-coda>/include/coda.jspf</include-coda>
	     </jsp-property-group>
	</jsp-config>
	-->

	<!-- 
		资源引用 描述,名称,类型,许可,共享
	<resource-ref>
        <description>JNDI JDBC DataSource of shop</description>
        <res-ref-name>jdbc/sample_db</res-ref-name>
        <res-type>javax.sql.DataSource</res-type>
        <res-auth>Container</res-auth>
	</resource-ref> -->
</web-app>
